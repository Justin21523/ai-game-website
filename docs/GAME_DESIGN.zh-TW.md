# 遊戲設計文件（GDD）— 2D 平台格鬥（快節奏 1v1 vs AI）

## 1) 願景與目標
打造一款「橫向 2D 平台格鬥」網頁遊戲：玩家與 AI 對手在小型關卡中快速交戰、走位與搶制空權。AI 的核心決策使用 Behavior Tree（BT），並提供可視化與「可解釋」的決策回饋，讓你能邊玩邊學 AI 與遊戲工程觀念。

## 2) 核心玩法（MVP）
- **對戰形式**：1v1（預設 AI vs AI 方便回歸測試；後續可切換玩家 vs AI）。
- **節奏**：單局 60–120 秒，快速重開。
- **勝負條件（預設）**：血量制（HP）。例如 100 HP；HP 歸零視為 KO（回合結束/重生與計分規則可再調整）。
- **視覺**：先用幾何圖形（矩形/圓形）做碰撞與角色外觀；後續可替換為 `src/assets/` 的貼圖與動畫。

> Stocks（命數）制可作為後續擴充選項，但不影響目前的核心架構（intent、出招狀態機、BT AI）。

## 3) 操作與手感（建議預設）
- 移動：A/D（或 ←/→）
- 跳躍：W / Space（支援 **Jump Buffer** 與 **Coyote Time**）
- 快速下落：S（空中）
- 攻擊：J（輕攻擊）、K（重攻擊）
- 防禦/格擋（可選）：L（先留接口）

手感關鍵（MVP 必教必做）：
- Jump Buffer（提前輸入跳躍也會在落地瞬間觸發）
- Coyote Time（離開平台後短時間仍允許跳）
- Hitstop（命中瞬間短暫停頓，提升打擊感）
- Hitstun/Knockback（命中硬直/擊退）

## 4) 戰鬥系統（資料驅動）
每個招式由「資料表」定義，便於平衡與學習 frame data：
- `startupFrames`：起手幀
- `activeFrames`：有效判定幀
- `recoveryFrames`：收招幀
- `damage`：傷害
- `knockback`：擊退（方向、強度、成長）
- `hitbox`：判定框（相對角色座標）

MVP 招式建議（先少而精）：
- 地面輕攻擊（快、短、連段起點）
- 地面重攻擊（慢、遠、擊飛大）
- 空中輕攻擊（制空）
- 空中重攻擊（高風險高回報）

## 5) 關卡設計（MVP）
一張小型關卡即可：
- 主平台 + 2–3 個浮空平台（提供高低差與追擊路線）
- 左右邊界與下方墜落邊界（Ring-out）
- 先不做複雜機關，避免分散學習焦點

## 6) AI 互動（可解釋而非操控）
玩家可在對戰中/對戰後「詢問 AI」：
- 「你剛剛為什麼跳？」
- 「為什麼選重攻擊？」
- 「你現在在怕什麼？」

AI 回覆基於 BT 的 **決策路徑（trace）** 與黑板（blackboard）摘要，用模板生成自然語句（繁中），重點是把決策理由講清楚（例如：距離、冷卻、風險、掉落邊界）。

## 7) 範圍外（先不做，但保留擴充點）
- 多人連線、排名天梯
- 角色多樣化與武器系統
- 道具生成與複雜關卡機關
